<div class="container">

    <div class="row">
        <form class="d-flex" role="search" (ngSubmit)="searchCharacter()">
            <input class="form-control mt-3" id="search-bar-box" type="search" placeholder="Troba un personatge"
                aria-label="Search" [(ngModel)]="searchTerm" (ngModelChange)="onSearchInput(searchTerm)"
                name="searchTerm">
        </form>
    </div>

    <div class="row">
        <div class="col">
            <h2 class="title-line">Llista de personatges</h2>
            <div class="line"></div>
        </div>
    </div>

    <div class="row mt-5 justify-content-center">
        @for(character of arrCharacters; track $index){

        <div class="card me-3 mb-3" style="width: 16rem;">
            <img class="card-img-top mx-auto mt-3" src="{{character.image}}" alt="{{character.name}} image cap">
            <div class="card-body">
                <h5 class="card-title">{{character.name}}</h5>
                <div class="card-text">
                    <b>Status: </b>{{character.status}}<br>
                    <b>Specie: </b>{{character.species}}<br>
                    <b>Origin: </b>{{character.origin.name}}<br>
                </div>
            </div>
        </div>
        } @empty{
        <div class="not-found">No characters found</div>
        }

    </div>

    <div #scrollAnchor class="infinite-scroll-anchor">
        <p @If(loading) class="loading-more-characters">Loading more characters...</p> 
    </div>
</div>